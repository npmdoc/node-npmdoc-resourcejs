<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/travist/resourcejs">resourcejs (v1.7.0)</a>
</h1>
<h4>A simple Express library to reflect Mongoose models to a REST interface.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.resourcejs">module resourcejs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.resourcejs.resourcejs">
            function <span class="apidocSignatureSpan"></span>resourcejs
            <span class="apidocSignatureSpan">(app, route, modelName, model)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.resourcejs" id="apidoc.module.resourcejs">module resourcejs</a></h1>


    <h2>
        <a href="#apidoc.element.resourcejs.resourcejs" id="apidoc.element.resourcejs.resourcejs">
        function <span class="apidocSignatureSpan"></span>resourcejs
        <span class="apidocSignatureSpan">(app, route, modelName, model)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resourcejs = function (app, route, modelName, model) {
  // Create the name of the resource.
  var name = modelName.toLowerCase();

  // Return the object that defines this resource.
  return {
<span class="apidocCodeCommentSpan">    /**
     * The model for this resource.
     */
</span>    model: model,

    /**
     * The name of the model.
     */
    modelName: modelName,

    /**
     * The name of this resource.
     */
    name: name,

    /**
     * The route for this model.
     */
    route: route + '/' + name,

    /**
     * The methods that are exposed to this resource.
     */
    methods: [],

    /**
     * The swagger cache.
     */
    __swagger: null,

    /**
     * Register a new callback but add before and after options to the middleware.
     *
     * @param app
     * @param method
     * @param path
     * @param callback
     * @param last
     * @param options
     */
    register: function(app, method, path, callback, last, options) {
      var mw = middleware();
      var len, i;

      // The before middleware.
      if (options &amp;&amp; options.before) {
        var before = [].concat(options.before);
        for (len = before.length, i=0; i&lt;len; ++i) {
          mw.use(before[i].bind(this));
        }
      }
      mw.use(callback.bind(this));

      // The after middleware.
      if (options &amp;&amp; options.after) {
        var after = [].concat(options.after);
        for (len = after.length, i=0; i&lt;len; ++i) {
          mw.use(after[i].bind(this));
        }
      }
      mw.use(last.bind(this));

      // Declare the resourcejs object on the app.
      if (!app.resourcejs) {
        app.resourcejs = {};
      }

      if (!app.resourcejs[path]) {
        app.resourcejs[path] = {};
      }

      // Add these methods to resourcejs object in the app.
      app.resourcejs[path][method] = mw;

      // Apply these callbacks to the application.
      app[method](path, mw);
    },

    /**
     * Sets the different responses and calls the next middleware for
     * execution.
     *
     * @param res
     *   The response to send to the client.
     * @param next
     *   The next middleware
     */
    respond: function(req, res, next) {
      if (req.noResponse || res.headerSent || res.headersSent) {
        debug.respond('Skipping');
        return next();
      }

      if (res.resource) {
        switch (res.resource.status) {
          case 400:
            res.status(400).json({
              status: 400,
              message: res.resource.error.message,
              errors: _.mapValues(res.resource.error.errors, function(error) {
                return _.pick(error, 'path', 'name', 'message');
              })
            });
            break;
          case 404:
            res.status(404).json({
              status: 404,
              errors: ['Resource not found']
            });
            break;
          case 500:
            res.status(500).json({
              status: 500,
              message: res.resource.error.message,
              errors: _.mapValues(res.resource.error.errors, function(error) {
                return _.pick(error, 'path', 'name', 'message');
              })
            });
            break;
          case 204:
            // Convert 204 into 200, to preserve the empty result set.
            // Update the empty response body based on request method type.
            debug.respond('204 -&gt; ' + req.__rMethod);
            switch (req.__rMethod) {
              case 'index':
                res.status(200).json([]);
                break;
              default:
                res.status(200).json({});
                break;
            }
            break;
          default:
            res.status(res.resource.status).json(res.resource.item);
            break;
        }
      }

      next();
    },

    /**
     * Sets the response that needs to be made and calls the next middleware for
     * execution.
     *
     * @param res
     * @param resource
     * @param next
     */
    setResponse: function(res, resource, next) {
      res.resource = resource;
      next();
    },

    /**
     * Returns the method ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>